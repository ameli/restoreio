


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="Examples" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ameli.github.io/examples.html" />
<meta property="og:site_name" content="RestoreIO" />
<meta property="og:description" content="The following set of instructions is a step-by-step guide to reproduce the result in[2], which is an example of using restoreio. Dataset: The paper uses the HF radar dataset from the Monterey Bay region in California, USA. The HF radar can be accessed publicly through the national HF radar networ..." />
<meta property="og:image" content="https://restoreio.org/public/images/card.png" />
<meta property="og:image:alt" content="RestoreIO" />
<meta name="description" content="The following set of instructions is a step-by-step guide to reproduce the result in[2], which is an example of using restoreio. Dataset: The paper uses the HF radar dataset from the Monterey Bay region in California, USA. The HF radar can be accessed publicly through the national HF radar networ..." />
<meta property="og:title" content="RestoreIO">
<meta property="og:description" content="RestoreIO is a Python package to restore incomplete oceanographic datasets and generate data ensemble, allowing Lagrangian analysis and uncertainty qualification on such datasets.">

    <title>Examples &#8212; restoreio Manual</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom-pydata.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/toggleprompt.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/js/custom-pydata.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/custom-pydata.css"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="scan (Command Line Interface)" href="api/cli_scan.html" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RCTBMM27GH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-RCTBMM27GH');
    </script>

    <script defer data-domain="docs.scipy.org" src="https://views.scientific-python.org/js/script.js"></script>

    <!-- My custom JS -->
    <script type="text/javascript" src="../_static/js/custom-pydata.js"></script>

    <!-- Syntax highlighting for BibTex code blocks -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-solarizedlight.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs-bibtex@2.0.1/prism-bibtex.min.js"></script>

    
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="auto">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="contents.html">
  
  
  
  
    <img src="_static/images/icons/logo-restoreio-light.png" class="logo__image only-light" alt="Logo image">
    <img src="_static/images/icons/logo-restoreio-dark.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="install/install.html">
  Install
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="user_guide/user_guide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api/api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Examples
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ameli/restoreio" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/restoreio/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://anaconda.org/s-ameli/restoreio" rel="noopener" target="_blank" title="Anaconda Cloud"><span><i class="fa fa-circle-notch"></i></span>
            <label class="sr-only">Anaconda Cloud</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://restoreio.org" rel="noopener" target="_blank" title="Online RestoreIO Platform"><span><i class="fas fa-globe-americas"></i></span>
            <label class="sr-only">Online RestoreIO Platform</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    
    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reproducing-results">
   Reproducing Results
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reproducing-figure-1">
     Reproducing Figure 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reproducing-figure-2-to-figure-9">
     Reproducing Figure 2 to Figure 9
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reproducing-figure-10">
     Reproducing Figure 10
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reproducing-figure-11">
     Reproducing Figure 11
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/ameli/restoreio/edit/main/docs/source/examples.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="examples">
<span id="id1"></span><h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h1>
<p>The following set of instructions is a step-by-step guide to reproduce the result in <a class="reference internal" href="cite.html#ref2"><span class="std std-ref">[2]</span></a>, which is an example of using <span class="synco">restoreio</span>.</p>
<section id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="Permalink to this heading">#</a></h2>
<p>The paper uses the HF radar dataset from the Monterey Bay region in California, USA. The HF radar can be accessed publicly through the <a class="reference external" href="http://cordc.ucsd.edu/projects/mapping/">national HF radar network gateway</a> maintained by the Coastal Observing Research and Development Center. Please follow these steps to obtain the data file.</p>
<p><strong>Dataset Webpage:</strong> The studied data is available through its <a class="reference external" href="https://hfrnet-tds.ucsd.edu/thredds/dodsC/HFR/USWC/2km/hourly/RTV/HFRADAR_US_West_Coast_2km_Resolution_Hourly_RTV_best.ncd.html">OpenDap page</a>. In particular, the <strong>OpenDap URL</strong> of this dataset is</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://hfrnet-tds.ucsd.edu/thredds/dodsC/HFR/USWC/2km/hourly/RTV/HFRADAR_US_West_Coast_2km_Resolution_Hourly_RTV_best.ncd
</pre></div>
</div>
<p><strong>Navigate to Dataset Webpage:</strong> To navigate to the above webpage, visit <a class="reference external" href="https://hfrnet-tds.ucsd.edu/thredds/catalog.html">CORDC THREDDS Serever</a>. From there, click on <a class="reference external" href="https://hfrnet-tds.ucsd.edu/thredds/HFRADAR_USWC.html">HF RADAR, US West Coast</a>, and select <a class="reference external" href="https://hfrnet-tds.ucsd.edu/thredds/catalog/HFR/USWC/2km/hourly/RTV/catalog.html">HFRADAR US West Coast 2km Resolution Hourly RTV</a> and choose <a class="reference external" href="https://hfrnet-tds.ucsd.edu/thredds/catalog/HFR/USWC/2km/hourly/RTV/catalog.html?dataset=HFR/USWC/2km/hourly/RTV/HFRADAR_US_West_Coast_2km_Resolution_Hourly_RTV_best.ncd">Best Time Series</a>.</p>
<p><strong>Subseting Data:</strong> The above dataset contains the HF radar covering the west coast of the US from 2012 to the present date with 2km resolution and hourly updates. In the examples below, we focus on a spatial subset of this dataset within the Monterey Bay region for January 2017.</p>
</section>
<section id="reproducing-results">
<h2>Reproducing Results<a class="headerlink" href="#reproducing-results" title="Permalink to this heading">#</a></h2>
<p>The scripts to reproduce the results can be found in the source code of <span class="synco">restoreio</span> under the directory <a class="reference external" href="https://github.com/ameli/restoreio/blob/main/examples/uncertainty_quant/"><code class="docutils literal notranslate"><span class="pre">/examples/uncertainty_quant</span></code></a>.</p>
<section id="reproducing-figure-1">
<h3>Reproducing Figure 1<a class="headerlink" href="#reproducing-figure-1" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">python<span class="w"> </span>plot_gdop_coverage.py</span>
</pre></div></div><figure class="align-left" id="id2" style="width: 100%">
<img alt="_images/gdop_coverage.png" class="custom-dark" src="_images/gdop_coverage.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 1:</strong> <em>Panels (a) and (b) display the east and north GDOP values, respectively, calculated along the northern California coast using the radar configurations indicated by the red dots and their corresponding code names. Panel (c) shows the total GDOP, which is a measure of the overall quality of the estimation of the velocity vector. Panel (d) represents the average HF radar data availability for January 2017, indicating the locations with missing data that generally correspond to high total GDOP values.</em></span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="reproducing-figure-2-to-figure-9">
<h3>Reproducing Figure 2 to Figure 9<a class="headerlink" href="#reproducing-figure-2-to-figure-9" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>restoreio_mwe.py</span>
</pre></div></div><p>The above python script executes the following lines of code, which is given in <strong>Listing 1</strong> of the manuscript. Users may change the settings in the function arguments below. For further details, refer to the API reference documentation of the function <a class="reference internal" href="api/generated/restoreio.restore.html#restoreio.restore" title="restoreio.restore"><code class="xref py py-func docutils literal notranslate"><span class="pre">restoreio.restore()</span></code></a> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Install restoreio with: pip install restoreio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">restoreio</span> <span class="kn">import</span> <span class="n">restore</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># OpenDap URL of the remote netCDF data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://hfrnet-tds.ucsd.edu/thredds/&#39;</span> <span class="o">+</span> \
<span class="gp">... </span>      <span class="s1">&#39;dodsC/HFR/USWC/2km/hourly/RTV/HFRAD&#39;</span> <span class="o">+</span> \
<span class="gp">... </span>      <span class="s1">&#39;AR_US_West_Coast_2km_Resolution_Hou&#39;</span> <span class="o">+</span> \
<span class="gp">... </span>      <span class="s1">&#39;rly_RTV_best.ncd&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Generate ensemble and reconstruct gaps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">restore</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="s1">&#39;output.nc&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">min_lon</span><span class="o">=-</span><span class="mf">122.344</span><span class="p">,</span> <span class="n">max_lon</span><span class="o">=-</span><span class="mf">121.781</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">min_lat</span><span class="o">=</span><span class="mf">36.507</span><span class="p">,</span> <span class="n">max_lat</span><span class="o">=</span><span class="mf">36.992</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">time</span><span class="o">=</span><span class="s1">&#39;2017-01-25T03:00:00&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">uncertainty_quant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">num_samples</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">ratio_num_modes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">kernel_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scale_error</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">detect_land</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill_coast</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">write_samples</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The above script generates the output file <code class="docutils literal notranslate"><span class="pre">output.nc</span></code> that contains all generated ensemble. Moreover, it creates a subdirectory called <code class="docutils literal notranslate"><span class="pre">output_results</span></code> and stores <strong>Figure 2</strong> to <strong>Figure 9</strong> of the manuscript. These plots are shown below.</p>
<figure class="align-left" id="id3" style="width: 100%">
<img alt="_images/orig_vel_and_error.png" class="custom-dark" src="_images/orig_vel_and_error.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 2:</strong> <em>Panels (a) and (b) show the east and north components of the ocean’s current velocity as measured by HF radars in Monterey Bay on January 25-th, 2017, at 3:00 UTC. The regions inside the solid black curves represent missing data that was filtered out due to high GDOP values from the original measurement. Panels (c) and (d) respectively show the east and north components of the velocity error computed for the locations where velocity data is available in Panels (a) and (b).</em></span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id4" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/rbf_kernel_2d.png"><img alt="_images/rbf_kernel_2d.png" class="custom-dark" src="_images/rbf_kernel_2d.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 3:</strong> <em>The red fields represent the calculated spatial autocorrelation α for the east (a) and north (b) velocity data. The elliptical contour curves are the best fit of the exponential kernel</em> <span class="math notranslate nohighlight">\(\rho\)</span> <em>to the autocorrelation. The direction of the principal radii of ellipses is determined by the eigenvectors of</em> <span class="math notranslate nohighlight">\(\boldsymbol{M}\)</span>, <em>representing the principal direction of correlation. The radii values are proportional to the eigenvalues of</em> <span class="math notranslate nohighlight">\(\boldsymbol{M}\)</span>, <em>representing the correlation length scale. The axes are in the unit of data points spaced 2 km apart.</em></span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id5" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/cor_cov.png"><img alt="_images/cor_cov.png" class="custom-dark" src="_images/cor_cov.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 4:</strong> <em>Correlation (first column) and covariance matrices (second column) of the east (first row) and north (second row) datasets are shown. The size of matrices are</em> <span class="math notranslate nohighlight">\(n = 485\)</span>.</span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id6" style="width: 100%">
<img alt="_images/kl_eigenvectors.png" class="custom-dark" src="_images/kl_eigenvectors.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 5:</strong> <em>The first 12 spatial eigenfunctions</em> <span class="math notranslate nohighlight">\(\phi_i\)</span> <em>for the east velocity dataset (first and second rows) and north velocity dataset (third and fourth rows) are shown in the domain</em> <span class="math notranslate nohighlight">\(\Omega\)</span> <em>in the Monterey Bay. The black curves is indicate the boundary of the missing domain</em> <span class="math notranslate nohighlight">\(\Omega_{\circ}\)</span>. <em>We note that the oblique pattern in the east eigenfunctions is attributed to the anisotropy of the east velocity data, as illustrated in Figure 3a.</em></span><a class="headerlink" href="#id6" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id7" style="width: 100%">
<img alt="_images/ensemble.png" class="custom-dark" src="_images/ensemble.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 6:</strong> <em>The reconstructed central ensemble (first column), mean of reconstructed ensemble (second column), and the standard deviation of reconstructed ensemble (third column) are shown in both</em> <span class="math notranslate nohighlight">\(\Omega\)</span> <em>and</em> <span class="math notranslate nohighlight">\(\Omega_{\circ}\)</span>. <em>The boundary of</em> <span class="math notranslate nohighlight">\(\Omega_{\circ}\)</span> <em>is shown by the solid black curve. The first and second rows correspond to the east and north velocity data, respectively.</em></span><a class="headerlink" href="#id7" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id8" style="width: 100%">
<img alt="_images/deviation.png" class="custom-dark" src="_images/deviation.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 7:</strong> <em>The left to right columns show the plots of deviations</em> <span class="math notranslate nohighlight">\(d_1(\boldsymbol{x})\)</span>, <span class="math notranslate nohighlight">\(d_2(\boldsymbol{x})\)</span>, <span class="math notranslate nohighlight">\(d_3(\boldsymbol{x})\)</span>, <em>and</em> <span class="math notranslate nohighlight">\(d_4(\boldsymbol{x})\)</span>, <em>displayed in both domains</em> <span class="math notranslate nohighlight">\(\Omega\)</span> <em>and</em> <span class="math notranslate nohighlight">\(\Omega_{\circ}\)</span> <em>with the first and second rows representing the east and north datasets, respectively. The solid black curve shows the boundary of</em> <span class="math notranslate nohighlight">\(\Omega_{\circ}\)</span>. <em>The absolute values smaller than</em> <span class="math notranslate nohighlight">\(10^{-8}\)</span> <em>are rendered as transparent and expose the ocean background, which includes the domain</em> <span class="math notranslate nohighlight">\(\Omega\)</span> <em>for the first three deviations.</em></span><a class="headerlink" href="#id8" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id9" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/ensemble_js_distance.png"><img alt="_images/ensemble_js_distance.png" class="custom-dark" src="_images/ensemble_js_distance.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 8:</strong> <em>The JS distance between the expected distribution</em> <span class="math notranslate nohighlight">\(q(\boldsymbol{x}, \xi)\)</span> <em>and the observed distribution</em> <span class="math notranslate nohighlight">\(p(\boldsymbol{x}, \xi)\)</span> <em>is shown. The absolute values smaller than</em> <span class="math notranslate nohighlight">\(10^{-8}\)</span> <em>are rendered as transparent and expose the ocean background, which includes the domain</em> <span class="math notranslate nohighlight">\(\Omega\)</span> <em>where the JS distance between</em> <span class="math notranslate nohighlight">\(p(\boldsymbol{x}, \xi)\)</span> <em>and</em> <span class="math notranslate nohighlight">\(q(\boldsymbol{x}, \xi)\)</span> <em>is zero.</em></span><a class="headerlink" href="#id9" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-left" id="id10" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/kl_eigenvalues.png"><img alt="_images/kl_eigenvalues.png" class="custom-dark" src="_images/kl_eigenvalues.png" style="width: 70%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 9:</strong>  <em>The eigenvalues</em> <span class="math notranslate nohighlight">\(\lambda_i\)</span>, <span class="math notranslate nohighlight">\(i = 1, \dots , n\)</span> <em>(green curves using left ordinate) and the energy ratio</em> <span class="math notranslate nohighlight">\(\gamma_m\)</span>, <span class="math notranslate nohighlight">\(m = 1, \dots , n\)</span> <em>(blue curves using right ordinate) are shown for the east and north velocity data. The horizontal dashed lines correspond to the 60% and 90% energy ratio levels, respectively, which equate to utilizing nearly 10 and 100 eigenmodes.</em></span><a class="headerlink" href="#id10" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="reproducing-figure-10">
<h3>Reproducing Figure 10<a class="headerlink" href="#reproducing-figure-10" title="Permalink to this heading">#</a></h3>
<ul>
<li><p>First, run <code class="docutils literal notranslate"><span class="pre">plot_js_divergence.sh</span></code> script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">bash<span class="w"> </span>plot_js_divergence.sh</span>
</pre></div></div><p>The above script creates a directory called <code class="docutils literal notranslate"><span class="pre">output_js_divergence</span></code> and stores the output files <code class="docutils literal notranslate"><span class="pre">output-001.nc</span></code> to <code class="docutils literal notranslate"><span class="pre">output-200.nc</span></code>.</p>
</li>
<li><p>Next, run <code class="docutils literal notranslate"><span class="pre">plot_js_divergence.py</span></code> script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>plot_js_divergence.py</span>
</pre></div></div></li>
</ul>
<figure class="align-left" id="id11" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/js_distance.png"><img alt="_images/js_distance.png" class="custom-dark" src="_images/js_distance.png" style="width: 70%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 10:</strong> <em>The JS distance between the probability distributions</em> <span class="math notranslate nohighlight">\(p_m(\boldsymbol{x}, \xi)\)</span> <em>and</em> <span class="math notranslate nohighlight">\(p_n(\boldsymbol{x}, \xi)\)</span> <em>is shown as a function of</em> <span class="math notranslate nohighlight">\(m = 0, \dots , n\)</span>. <em>These two distributions correspond to the ensemble generated by the</em> <span class="math notranslate nohighlight">\(m\)</span> <em>term (truncated) and</em> <span class="math notranslate nohighlight">\(n\)</span> <em>term (complete) KL expansions, respectively. We note that the abscissa of the figure is displayed as the percentage of the ratio</em> <span class="math notranslate nohighlight">\(m/n\)</span> <em>where</em> <span class="math notranslate nohighlight">\(n = 485\)</span>.</span><a class="headerlink" href="#id11" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="reproducing-figure-11">
<h3>Reproducing Figure 11<a class="headerlink" href="#reproducing-figure-11" title="Permalink to this heading">#</a></h3>
<p>Run <code class="docutils literal notranslate"><span class="pre">plot_vel_distribution</span></code> script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>plot_vel_distribution.py</span>
</pre></div></div><p>The above script creates the following plot:</p>
<figure class="align-left" id="id12" style="width: 100%">
<a class="custom-dark reference internal image-reference" href="_images/vel_distribution.png"><img alt="_images/vel_distribution.png" class="custom-dark" src="_images/vel_distribution.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 11:</strong> <em>Probability density functions of the east (a) and north (b) components of velocity data for January 2017. Circle points denote the empirical PDF, the solid black curve indicates the standard normal distribution</em> <span class="math notranslate nohighlight">\(\mathcal{N}(0, 1)\)</span>, <em>and the dashed black curve shows the best-fit generalized Gaussian distribution (GGD) with the density function</em> <span class="math notranslate nohighlight">\(p(v) \propto \exp(-\vert v \vert^{\beta})\)</span>. <em>The abscissa in both figures represents the normalized velocity components, with</em> <span class="math notranslate nohighlight">\(\sigma\)</span> <em>being the standard deviation of the respective data.</em></span><a class="headerlink" href="#id12" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="api/cli_scan.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">scan</span></code> (Command Line Interface)</p>
      </div>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>


    <!-- Adobe Embed API -->
    
    <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>


  </body>
</html>