


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="Data Restoration Settings" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ameli.github.io/user_guide/restore_setting.html" />
<meta property="og:site_name" content="RestoreIO" />
<meta property="og:description" content="The core function within restoreio is restoreio.restore(), which serves a dual purpose: reconstructing incomplete data and generating data ensemble. This section delves into the intricacies of this function for the first application. Alongside this page, you can also explore the comprehensive lis..." />
<meta property="og:image" content="https://restoreio.org/public/images/card.png" />
<meta property="og:image:alt" content="RestoreIO" />
<meta name="description" content="The core function within restoreio is restoreio.restore(), which serves a dual purpose: reconstructing incomplete data and generating data ensemble. This section delves into the intricacies of this function for the first application. Alongside this page, you can also explore the comprehensive lis..." />
<meta property="og:title" content="RestoreIO">
<meta property="og:description" content="RestoreIO is a Python package to restore incomplete oceanographic datasets and generate data ensemble, allowing Lagrangian analysis and uncertainty qualification on such datasets.">

    <title>Data Restoration Settings &#8212; restoreio Manual</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom-pydata.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/toggleprompt.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/custom-pydata.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/custom-pydata.css"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generating Ensemble" href="generating_ensemble.html" />
    <link rel="prev" title="Input Data" href="input_data.html" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RCTBMM27GH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-RCTBMM27GH');
    </script>

    <script defer data-domain="docs.scipy.org" src="https://views.scientific-python.org/js/script.js"></script>

    <!-- My custom JS -->
    <script type="text/javascript" src="../_static/js/custom-pydata.js"></script>

    <!-- Syntax highlighting for BibTex code blocks -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-solarizedlight.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs-bibtex@2.0.1/prism-bibtex.min.js"></script>

    
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="auto">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../contents.html">
  
  
  
  
    <img src="../_static/images/icons/logo-restoreio-light.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/images/icons/logo-restoreio-dark.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../install/install.html">
  Install
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="user_guide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api/api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples.html">
  Examples
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ameli/restoreio" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/restoreio/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://anaconda.org/s-ameli/restoreio" rel="noopener" target="_blank" title="Anaconda Cloud"><span><i class="fa fa-circle-notch"></i></span>
            <label class="sr-only">Anaconda Cloud</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://restoreio.org" rel="noopener" target="_blank" title="Online RestoreIO Platform"><span><i class="fas fa-globe-americas"></i></span>
            <label class="sr-only">Online RestoreIO Platform</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="user_guide.html">
   User Guide
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="input_data.html">
   Input Data
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Data Restoration Settings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="generating_ensemble.html">
   Generating Ensemble
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="output_data.html">
   Output Data
  </a>
 </li>
</ul>

    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#time">
   Time
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#domain">
   Domain
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#domain-segmentation">
   Domain Segmentation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detect-data-domain">
     Detect Data Domain
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-convex-hull">
       1. Using Convex Hull
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-concave-hull">
       2. Using Concave Hull
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#illustration-of-domain-segmentation">
     Illustration of Domain Segmentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detect-land">
     Detect Land
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extend-data-domain-to-coastline">
     Extend Data Domain to Coastline
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#refine-grid">
   Refine Grid
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/ameli/restoreio/edit/main/docs/source/user_guide/restore_setting.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="data-restoration-settings">
<span id="restore-setting"></span><h1><a class="toc-backref" href="#id1" role="doc-backlink">Data Restoration Settings</a><a class="headerlink" href="#data-restoration-settings" title="Permalink to this heading">#</a></h1>
<p>The core function within <span class="synco">restoreio</span> is <a class="reference internal" href="../api/generated/restoreio.restore.html#restoreio.restore" title="restoreio.restore"><code class="xref py py-func docutils literal notranslate"><span class="pre">restoreio.restore()</span></code></a>, which serves a dual purpose: reconstructing incomplete data and generating data ensemble. This section delves into the intricacies of this function for the first application. Alongside this page, you can also explore the comprehensive list of settings available in the API of the <a class="reference internal" href="../api/generated/restoreio.restore.html#restoreio.restore" title="restoreio.restore"><code class="xref py py-func docutils literal notranslate"><span class="pre">restoreio.restore()</span></code></a> function.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#data-restoration-settings" id="id1">Data Restoration Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#time" id="id2">Time</a></p></li>
<li><p><a class="reference internal" href="#domain" id="id3">Domain</a></p></li>
<li><p><a class="reference internal" href="#domain-segmentation" id="id4">Domain Segmentation</a></p></li>
<li><p><a class="reference internal" href="#refine-grid" id="id5">Refine Grid</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="time">
<span id="time-sec"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">Time</a><a class="headerlink" href="#time" title="Permalink to this heading">#</a></h2>
<p>You can process either the whole or a part of the time span of the input dataset. There are two options available to specify time: single time and time interval.</p>
<ol class="arabic simple">
<li><p><strong>Single Time:</strong> Select the <code class="docutils literal notranslate"><span class="pre">time</span></code> argument to process a specific time within the input dataset. If the chosen time does not exactly match any time stamp in your input data, the closest available time will be used for processing.</p></li>
<li><p><strong>Time Interval:</strong> Alternatively, you can use <code class="docutils literal notranslate"><span class="pre">min_time</span></code> and <code class="docutils literal notranslate"><span class="pre">max_time</span></code> arguments to process a specific time interval within the input dataset. If the specified times do not exactly match any time stamps in your input data, the closest available times will be used for processing.</p></li>
</ol>
<p>Alternatively, if you do not specify any of the above arguments, the entire time span within your input data will be processed.</p>
<p>Please note that the time interval option cannot be used if you have enabled generating ensemble (refer to the <code class="docutils literal notranslate"><span class="pre">uncertainty_quant</span></code> argument).</p>
</section>
<section id="domain">
<span id="domain-sec"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Domain</a><a class="headerlink" href="#domain" title="Permalink to this heading">#</a></h2>
<p>You have the option to specify a spatial subset of the data for processing using <code class="docutils literal notranslate"><span class="pre">min_lon</span></code>, <code class="docutils literal notranslate"><span class="pre">max_lon</span></code>, <code class="docutils literal notranslate"><span class="pre">min_lat</span></code>, and <code class="docutils literal notranslate"><span class="pre">max_lat</span></code> argument. By choosing a subset of the domain, the output file will only contain the specified spatial region.</p>
<p>If you do not specify these arguments, the entire spatial extent within your input data will be processed. However, please be aware that for large spatial datasets, this option might require a significant amount of time for processing. To optimize efficiency, we recommend subsetting your input dataset to a relevant segment that aligns with your analysis.</p>
</section>
<section id="domain-segmentation">
<span id="domain-seg-sec"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Domain Segmentation</a><a class="headerlink" href="#domain-segmentation" title="Permalink to this heading">#</a></h2>
<p>The input dataset’s grid comprises two distinct sets of points: locations with available velocity data and locations where velocity data is not provided. These regions are referred to as the <em>known</em> domain <span class="math notranslate nohighlight">\(\Omega_k\)</span> and the <em>unknown</em> domain <span class="math notranslate nohighlight">\(\Omega_u\)</span>, respectively. Therefore, the complete grid of the input data <span class="math notranslate nohighlight">\(\Omega\)</span> can be decomposed into <span class="math notranslate nohighlight">\(\Omega = \Omega_k \cup \Omega_u\)</span>.</p>
<p>The primary objective of data reconstruction is to fill the data gaps within the regions where velocity data is missing. The region of <em>missing</em> data, <span class="math notranslate nohighlight">\(\Omega_m\)</span>, is part of the unknown domain <span class="math notranslate nohighlight">\(\Omega_u\)</span>. However, the unknown domain contains additional points that are not necessarily missing, such as points located on land, denoted as <span class="math notranslate nohighlight">\(\Omega_l\)</span>, or regions of the ocean that are not included in the dataset, which we denote as <span class="math notranslate nohighlight">\(\Omega_o\)</span>.</p>
<p>Before proceeding with reconstructing the missing velocity data, it is essential to first identify the missing domain <span class="math notranslate nohighlight">\(\Omega_m\)</span>. This involves segmenting the unknown domain <span class="math notranslate nohighlight">\(\Omega_u\)</span> into <span class="math notranslate nohighlight">\(\Omega_u = \Omega_m \cup \Omega_l \cup \Omega_o\)</span>. These tasks require the knowledge of the ocean’s domain and land domain. You can configure these steps as described in <a class="reference internal" href="#detect-data-domain-sec"><span class="std std-ref">Detect Data Domain</span></a> and <a class="reference internal" href="#detect-land-sec"><span class="std std-ref">Detect Land</span></a> below.</p>
<p>For detailed information on domain segmentation, we recommend referring to <a class="reference internal" href="../cite.html#ref1"><span class="std std-ref">[1]</span></a>.</p>
<section id="detect-data-domain">
<span id="detect-data-domain-sec"></span><h3>Detect Data Domain<a class="headerlink" href="#detect-data-domain" title="Permalink to this heading">#</a></h3>
<p>By the data <em>domain</em>, <span class="math notranslate nohighlight">\(\Omega_d\)</span>, we refer to the union of both the known domain <span class="math notranslate nohighlight">\(\Omega_k\)</span> and the missing domain <span class="math notranslate nohighlight">\(\Omega_m\)</span>, namely, <span class="math notranslate nohighlight">\(\Omega_d = \Omega_k \cup \Omega_m\)</span>. Once the missing velocity field is reconstructed, the combination of both the known and missing domains will become the data domain. Identifying <span class="math notranslate nohighlight">\(\Omega_d\)</span> can be done in two ways:</p>
<section id="using-convex-hull">
<span id="convex-hullsec"></span><h4>1. Using Convex Hull<a class="headerlink" href="#using-convex-hull" title="Permalink to this heading">#</a></h4>
<p>By enabling the <code class="docutils literal notranslate"><span class="pre">convex_hull</span></code> option, the data domain <span class="math notranslate nohighlight">\(\Omega_d\)</span> is defined as the region enclosed by a convex hull around the known domain <span class="math notranslate nohighlight">\(\Omega_k\)</span>. As such, any unknown point inside the convex hull is flagged as missing, and all points outside this convex hull are considered as part of the ocean domain <span class="math notranslate nohighlight">\(\Omega_o\)</span> or land <span class="math notranslate nohighlight">\(\Omega_l\)</span>.</p>
</section>
<section id="using-concave-hull">
<span id="concave-hull-sec"></span><h4>2. Using Concave Hull<a class="headerlink" href="#using-concave-hull" title="Permalink to this heading">#</a></h4>
<p>By disabling the <code class="docutils literal notranslate"><span class="pre">convex_hull</span></code> option, the data domain <span class="math notranslate nohighlight">\(\Omega_d\)</span> is defined as the region enclosed by a convex hull around the known domain <span class="math notranslate nohighlight">\(\Omega_k\)</span>. As such, any unknown point inside the convex hull is flagged as missing, and all points outside this convex hull are considered as part of the ocean domain <span class="math notranslate nohighlight">\(\Omega_o\)</span> or land <span class="math notranslate nohighlight">\(\Omega_l\)</span>.</p>
<p>Note that a concave hull (also known as <a class="reference external" href="https://en.wikipedia.org/wiki/Alpha_shape">alpha shape</a>) is not unique and is characterized by a radius parameter. The radius is the inverse of the <span class="math notranslate nohighlight">\(\alpha\)</span> parameter in alpha-shapes. A smaller radius causes the concave hull to shrink more toward the set of points it is encompassing. Conversely, a larger radius yields a concave hull that is closer to a convex hull. We recommend setting the radius (in the unit of Km) to a few multiples of the grid size. For instance, for an HF radar dataset with a 2km resolution, where the grid points are spaced 2 km apart, a radius of approximately 10 km works fine for most datasets.</p>
<p>We recommend choosing concave hull over convex hull as it can better identify the data domain within your input files, provided that the radius parameter is tuned appropriately.</p>
</section>
</section>
<section id="illustration-of-domain-segmentation">
<span id="detect-land-sec"></span><h3>Illustration of Domain Segmentation<a class="headerlink" href="#illustration-of-domain-segmentation" title="Permalink to this heading">#</a></h3>
<p>The following figure serves as an illustration of the domain segmentation in relation to the provided <a class="reference internal" href="getting_started.html#quick-code-1"><span class="std std-ref">example code</span></a>. In the left panel, the green domain represents the known area <span class="math notranslate nohighlight">\(\Omega_k\)</span> where velocity data is available, while the red domain signifies the region <span class="math notranslate nohighlight">\(\Omega_u\)</span> without velocity data. In the right panel, the missing domain <span class="math notranslate nohighlight">\(\Omega_m\)</span> is highlighted in red. This domain is determined by the red points from the left panel that fall within the concave hull around the green points. The points located outside the concave hull are considered non-data points, representing the ocean domain <span class="math notranslate nohighlight">\(\Omega_o\)</span>. The <a class="reference internal" href="../api/generated/restoreio.restore.html#restoreio.restore" title="restoreio.restore"><code class="xref py py-func docutils literal notranslate"><span class="pre">restoreio.restore()</span></code></a> function reconstructs the velocity field within the red points shown in the right panel.</p>
<img alt="../_images/grid-1.png" class="custom-dark align-center" src="../_images/grid-1.png" />
</section>
<section id="detect-land">
<h3>Detect Land<a class="headerlink" href="#detect-land" title="Permalink to this heading">#</a></h3>
<p>In some cases, a part of the convex or concave hull might overlap with the land domain, leading to the mistaken flagging of such intersections as missing domains to be reconstructed. To avoid this issue, it is recommended to detect the land domain <span class="math notranslate nohighlight">\(\Omega_l\)</span> and exclude it from the data domain <span class="math notranslate nohighlight">\(\Omega_d\)</span> if there is any intersection. There are three options available regarding the treatment of the land domain:</p>
<ul class="simple">
<li><p>Do not detect land, assume all grid is in ocean. This corresponds to setting <code class="docutils literal notranslate"><span class="pre">detect_land</span></code> option to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p>Detect and exclude land (high accuracy, very slow). This correspond to setting <code class="docutils literal notranslate"><span class="pre">detect_land</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>Detect and exclude land. This corresponds to setting <code class="docutils literal notranslate"><span class="pre">detect_land</span></code> option to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
<p>The land boundaries are queried using the <a class="reference external" href="https://www.soest.hawaii.edu/pwessel/gshhg/">Global Self-consistent, Hierarchical, High-resolution Geography Database (GSHHG)</a> . For large datasets, we advise against using the third option, as using high accuracy map can significantly increase the processing time for detecting land. For most datasets, we recommend using the second option, as it offers sufficient accuracy while remaining relatively fast.</p>
</section>
<section id="extend-data-domain-to-coastline">
<h3>Extend Data Domain to Coastline<a class="headerlink" href="#extend-data-domain-to-coastline" title="Permalink to this heading">#</a></h3>
<p>If your dataset’s data domain is close to land (e.g., in HF radar datasets spanning across coastlines), you can extend the data domain beyond the region identified by the convex or concave hulls, reaching up to the coastline. To achieve this, you can enable the <code class="docutils literal notranslate"><span class="pre">fill_coast</span></code> option.</p>
<p>By extending the data domain to the land, a zero boundary condition for the velocity field on the land is imposed. However, it’s important to note that this assumption results in less credible reconstructed fields, especially when dealing with large coastal gaps.</p>
<p>The illustration below showcases the impact of activating the <code class="docutils literal notranslate"><span class="pre">fill_coast</span></code> feature in the provided <a class="reference internal" href="getting_started.html#quick-code-1"><span class="std std-ref">example code</span></a>. Notably, the alteration can be observed in the right panel, where the area between the data domain and the coastline is highlighted in red. This signifies that the gaps extending up to the coastlines will be comprehensively reconstructed.</p>
<img alt="../_images/grid-2.png" class="custom-dark align-center" src="../_images/grid-2.png" />
</section>
</section>
<section id="refine-grid">
<span id="refine-grid-sec"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Refine Grid</a><a class="headerlink" href="#refine-grid" title="Permalink to this heading">#</a></h2>
<p>With the <code class="docutils literal notranslate"><span class="pre">refine</span></code> argument, you can increase the dataset’s grid size by an integer factor along <strong>both</strong> longitude and latitude axes. This process involves interpolating the data onto a more refined grid. It’s important to note that this refinement <strong>doesn’t enhance</strong> the data resolution.</p>
<p>We advise keeping the refinement level at the default value of 1, unless there’s a specific reason to refine the grid size. Increasing the refinement level can significantly increase computation time and may not provide additional benefits in most cases.</p>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="input_data.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Input Data</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="generating_ensemble.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Generating Ensemble</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>


    <!-- Adobe Embed API -->
    
    <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>


  </body>
</html>